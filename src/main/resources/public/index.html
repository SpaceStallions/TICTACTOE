<!DOCTYPE html>
<html>
	<head>
		<title>SpaceStallions TicTacToe</title>

		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">

		<!-- jQuery 1.10.2 ref -->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>

		<!-- CSS styling -->
		<link rel="stylesheet" href="spacestallions.css">
	</head>
	<body>
		<h1>SpaceStallions TicTacToe</h1>
		<div id="board">
			<table>
				<tr id="row1">
					<td class="square" id="cell-1">X</td>
					<td class="square v" id="cell-2"></td>
					<td class="square" id="cell-3"></td>
				</tr>
				<tr id="row2">
					<td class="square h" id="cell-4"></td>
					<td class="square v h" id="cell-5"></td>
					<td class="square h" id="cell-6"></td>
				</tr>
				<tr id="row3">
					<td class="square" id="cell-7"></td>
					<td class="square v" id="cell-8"></td>
					<td class="square" id="cell-9"></td>
				</tr>
			</table>
		</div>

		<br>
		<br>
		<input id="btnReset" type="submit" value="New game"/>

		<script type="text/javascript">
		$(document).ready (function ( )
		{
			var gameState = '000000000';
			var currentPlayer = 1;

			$("table tr td").click (function ( )
			{
				var cellId = $(this).attr ("id").charAt (5);

				$.ajax(
				{
					type: 'get',
					url: '/clickcell',
					data: 'currstate=' + gameState + '&player=' + currentPlayer + '&cell=' + cellId
				}).done (function (returnData)
				{
					var data = JSON.parse (returnData);
					alert ('success - returned a javascript object:\nplayer: ' + data.player + '\nvalid: ' + data.valid + '\nendGame: ' + data.endGame);
				}).fail (function (err)
				{
					alert ('failure - returned ' + err);
				});
			});
		});

		$(document).ready(function(){
			$("#btnReset").click(function(){
				$('#cell-1').html('');
				$('#cell-2').html('');
				$('#cell-3').html('');
				$('#cell-4').html('');
				$('#cell-5').html('');
				$('#cell-6').html('');
				$('#cell-7').html('');
				$('#cell-8').html('');
				$('#cell-9').html('');
			});
		});
		</script>
	</body>
</html>
